---
import Button from "../Button.astro";

// Import environment variable for the default form
const defaultFormSubmitId = import.meta.env.CONTACT_FORMSUBMIT_DEFAULT_ID;
const newsletterActionUrl = `https://formsubmit.co/${defaultFormSubmitId}`;

// Construct the thank you page URL dynamically for the newsletter
const newsletterThankYouUrl = new URL("/thank-you", Astro.url).toString();
---

<footer
    class="relative bg-gradient-to-b from-neutral-50 to-blue-100 pt-24 pb-8 overflow-hidden"
>
    <!-- Decorative Elements -->
    <div
        class="absolute top-0 left-0 w-full h-20 bg-primary-300 opacity-20 -skew-y-2 transform -translate-y-11"
    >
    </div>
    <!-- Add red decorative element -->
    <div
        class="absolute top-0 right-0 w-32 h-32 bg-secondary-500 rounded-full -translate-y-3/2 translate-x-1/3 opacity-30"
    >
    </div>
    <div
        class="absolute bottom-0 left-0 w-48 h-48 bg-primary-500 rounded-full translate-y-1/3 -translate-x-1/4 opacity-30"
    >
    </div>

    <!-- Footer Content -->
    <div class="container mx-auto relative z-10 px-4">
        <div class="flex flex-col lg:flex-row justify-between mb-12">
            <!-- Company Info -->
            <div class="mb-10 lg:mb-0 lg:w-1/3 pr-8">
                <div class="flex items-center mb-6">
                    <!-- Add secondary color to logo text -->
                    <slot name="logo">
                </div>
                <p class="text-gray-600 mb-6">
                    Medical Innovative & Creative Solutions providing
                    high-quality medical equipment and services to healthcare
                    facilities nationwide.
                </p>
                <div
                    class="bg-white shadow-lg rounded-xl p-6 transform hover:-translate-y-1 transition-all duration-300"
                >
                    <p class="font-bold text-gray-700 mb-2">Our Location</p>
                    <p class="text-gray-600">49 Country Lane,</p>
                    <p class="text-gray-600">Jarrah Country Estate,</p>
                    <p class="text-gray-600">Petit, Benoni, 1501</p>
                    <div class="mt-4 pt-4 border-t border-gray-100">
                        <p class="font-bold text-gray-700 mb-2">Contact Us</p>
                        <p>
                            <a
                                href="mailto:info@mmics.co.za"
                                class="text-gray-600 underline"
                                >info@mmics.co.za</a
                            >
                        </p>
                        <p>
                            <a
                                href="tel:+27829979977"
                                class="text-gray-600 underline">082 997 9977</a
                            >
                        </p>
                    </div>
                </div>
            </div>

            <!-- Quick Links -->
            <div class="mb-10 lg:mb-0 lg:w-1/4">
                <h3 class="text-lg font-bold text-gray-800 mb-6">
                    Quick Links
                </h3>
                <ul class="space-y-3">
                    <li>
                        <a
                            href="/"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            Home
                        </a>
                    </li>
                    <li>
                        <a
                            href="/about"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            About Us
                        </a>
                    </li>
                    <li>
                        <a
                            href="#"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            Products
                        </a>
                    </li>
                    <li>
                        <a
                            href="/contact"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            Contact
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Products -->
            <div class="mb-10 lg:mb-0 lg:w-1/4">
                <h3 class="text-lg font-bold text-gray-800 mb-6">
                    Our Products
                </h3>
                <ul class="space-y-3">
                    <li>
                        <a
                            href="/products?category=medical-shelving"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            Medical Shelving
                        </a>
                    </li>
                    <li>
                        <a
                            href="/products?category=medical-trolleys"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            Medical Trolleys
                        </a>
                    </li>
                    <li>
                        <a
                            href="/products?category=curtains-and-tracks"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            Curtains & Tracks
                        </a>
                    </li>
                    <li>
                        <a
                            href="/products?category=custom-solutions"
                            class="text-gray-600 hover:text-secondary-600 flex items-center group"
                        >
                            <span
                                class="material-symbols-outlined mr-2 text-primary-400 group-hover:text-secondary-600 text-sm"
                                >chevron_right</span
                            >
                            Custom Solutions
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Newsletter -->
            <div class="lg:w-1/4">
                <h3 class="text-lg font-bold text-gray-800 mb-6">
                    Stay Updated
                </h3>
                <p class="text-gray-600 mb-4">
                    Subscribe to our newsletter for the latest updates and
                    offers.
                </p>
                <div class="bg-white rounded-xl shadow-md p-4">
                    <form action={newsletterActionUrl} method="POST" class="space-y-3">
                         <!-- FormSubmit Hidden Fields -->
                        <input type="hidden" name="_subject" value="New Newsletter Subscription - MICS Website">
                        <input type="hidden" name="_next" value={newsletterThankYouUrl}>
                        <input type="text" name="_honey" style="display:none">
                        <input type="hidden" name="_template" value="box"> <!-- Optional: Use a template -->

                        <div>
                            <label for="footer-email" class="sr-only">Email address</label>
                            <input
                                type="email"
                                id="footer-email"
                                name="email"
                                placeholder="Enter your email"
                                required
                                class="w-full px-4 py-2 rounded-full text-gray-700 border border-gray-200 focus:outline-none focus:border-secondary-500 focus:ring-2 focus:ring-secondary-200"
                            />
                        </div>
                        <Button
                            type="submit"
                            fullWidth={true}
                            class="bg-secondary-500 hover:bg-secondary-600 text-white"
                        >
                            Subscribe
                        </Button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Social Media Links -->
        <div
            class="flex flex-wrap justify-center gap-4 mb-8 pt-8 border-t border-gray-200"
        >
            <!-- Facebook -->
            <a
                href="#"
                class="bg-white w-10 h-10 rounded-full shadow-md flex items-center justify-center transform hover:scale-110 hover:shadow-lg transition-all duration-300 hover:bg-secondary-50 hover:text-secondary-600"
            >
                <svg
                    class="fill-current text-primary-600"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 36 36"
                    height="20"
                    width="20"
                    ><defs
                        ><linearGradient
                            x1="50%"
                            x2="50%"
                            y1="97.078%"
                            y2="0%"
                            id="a"
                            ><stop offset="0%" stop-color="#0062E0"></stop><stop
                                offset="100%"
                                stop-color="#19AFFF"></stop></linearGradient
                        ></defs
                    ><path
                        d="M15 35.8C6.5 34.3 0 26.9 0 18 0 8.1 8.1 0 18 0s18 8.1 18 18c0 8.9-6.5 16.3-15 17.8l-1-.8h-4l-1 .8z"
                    ></path><path
                        fill="#FFF"
                        d="m25 23 .8-5H21v-3.5c0-1.4.5-2.5 2.7-2.5H26V7.4c-1.3-.2-2.7-.4-4-.4-4.1 0-7 2.5-7 7v4h-4.5v5H15v12.7c1 .2 2 .3 3 .3s2-.1 3-.3V23h4z"
                    ></path></svg
                >
            </a>
            <!-- Linkedin -->
            <a
                href="#"
                class="bg-white w-10 h-10 rounded-full shadow-md flex items-center justify-center transform hover:scale-110 hover:shadow-lg transition-all duration-300 hover:bg-secondary-50 hover:text-secondary-600"
            >
                <svg
                    class="fill-current text-primary-600"
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    preserveAspectRatio="xMidYMid"
                    viewBox="0 0 256 256"
                    ><path
                        d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453"
                    ></path></svg
                >
            </a>
            <!-- WhatsApp -->
            <a
                href="https://wa.me/27829979977"
                class="bg-white w-10 h-10 rounded-full shadow-md flex items-center justify-center transform hover:scale-110 hover:shadow-lg transition-all duration-300 hover:bg-secondary-50 hover:text-secondary-600"
            >
                <svg
                    viewBox="0 0 256 259"
                    width="20"
                    height="20"
                    xmlns="http://www.w3.org/2000/svg"
                    preserveAspectRatio="xMidYMid"
                    class="fill-current text-primary-600"
                    ><path
                        d="m67.663 221.823 4.185 2.093c17.44 10.463 36.971 15.346 56.503 15.346 61.385 0 111.609-50.224 111.609-111.609 0-29.297-11.859-57.897-32.785-78.824-20.927-20.927-48.83-32.785-78.824-32.785-61.385 0-111.61 50.224-110.912 112.307 0 20.926 6.278 41.156 16.741 58.594l2.79 4.186-11.16 41.156 41.853-10.464Z"
                        ></path><path
                        d="M219.033 37.668C195.316 13.254 162.531 0 129.048 0 57.898 0 .698 57.897 1.395 128.35c0 22.322 6.278 43.947 16.742 63.478L0 258.096l67.663-17.439c18.834 10.464 39.76 15.347 60.688 15.347 70.453 0 127.653-57.898 127.653-128.35 0-34.181-13.254-66.269-36.97-89.986ZM129.048 234.38c-18.834 0-37.668-4.882-53.712-14.648l-4.185-2.093-40.458 10.463 10.463-39.76-2.79-4.186C7.673 134.63 22.322 69.058 72.546 38.365c50.224-30.692 115.097-16.043 145.79 34.181 30.692 50.224 16.043 115.097-34.18 145.79-16.045 10.463-35.576 16.043-55.108 16.043Zm61.385-77.428-7.673-3.488s-11.16-4.883-18.136-8.371c-.698 0-1.395-.698-2.093-.698-2.093 0-3.488.698-4.883 1.396 0 0-.697.697-10.463 11.858-.698 1.395-2.093 2.093-3.488 2.093h-.698c-.697 0-2.092-.698-2.79-1.395l-3.488-1.395c-7.673-3.488-14.648-7.674-20.229-13.254-1.395-1.395-3.488-2.79-4.883-4.185-4.883-4.883-9.766-10.464-13.253-16.742l-.698-1.395c-.697-.698-.697-1.395-1.395-2.79 0-1.395 0-2.79.698-3.488 0 0 2.79-3.488 4.882-5.58 1.396-1.396 2.093-3.488 3.488-4.883 1.395-2.093 2.093-4.883 1.395-6.976-.697-3.488-9.068-22.322-11.16-26.507-1.396-2.093-2.79-2.79-4.883-3.488H83.01c-1.396 0-2.79.698-4.186.698l-.698.697c-1.395.698-2.79 2.093-4.185 2.79-1.395 1.396-2.093 2.79-3.488 4.186-4.883 6.278-7.673 13.951-7.673 21.624 0 5.58 1.395 11.161 3.488 16.044l.698 2.093c6.278 13.253 14.648 25.112 25.81 35.575l2.79 2.79c2.092 2.093 4.185 3.488 5.58 5.58 14.649 12.557 31.39 21.625 50.224 26.508 2.093.697 4.883.697 6.976 1.395h6.975c3.488 0 7.673-1.395 10.464-2.79 2.092-1.395 3.487-1.395 4.882-2.79l1.396-1.396c1.395-1.395 2.79-2.092 4.185-3.487 1.395-1.395 2.79-2.79 3.488-4.186 1.395-2.79 2.092-6.278 2.79-9.765v-4.883s-.698-.698-2.093-1.395Z"
                        fill="#FFF"></path></svg
                >
            </a>
        </div>

        <!-- Copyright -->
        <div class="text-center text-gray-500 text-sm">
            <p>
                © {new Date().getFullYear()}
                <span class="text-primary-600">MI</span><span
                    class="text-secondary-600">CS</span
                > - Medical Innovative & Creative Solutions. All rights reserved.
            </p>
            <div class="flex justify-center space-x-4 mt-2">
                <a href="#" class="hover:text-secondary-600 transition-colors"
                    >Privacy Policy</a
                >
                <span class="text-gray-300">|</span>
                <a href="#" class="hover:text-secondary-600 transition-colors"
                    >Terms of Service</a
                >
            </div>
        </div>
    </div>
</footer>
