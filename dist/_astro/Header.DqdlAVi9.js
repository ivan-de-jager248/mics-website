import{w as E,T as j}from"./runtime-dom.esm-bundler.BSrPnuAF.js";import{r as D,u as M,c as Q,g as T}from"./cart.DI_PV2g1.js";import{_ as q}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{e as S,c as a,o as r,a as t,f as c,F as p,r as b,t as i,l as x,k as $,h as O,g as C,i as z,s as R,p as I,q as N}from"./runtime-core.esm-bundler.Dc5g95Qm.js";const U=S({__name:"MiniCart",props:{cart:{},checkoutEmailID:{}},emits:["close"],setup(f,{expose:s,emit:u}){s();const e=f,h=u,d=x("idle"),o=x(null),y={props:e,emit:h,quoteStatus:d,quoteError:o,handleRemove:m=>{D(m)},handleUpdateQuantity:(m,v)=>{M(m,v)},handleRequestQuote:async()=>{d.value="loading",o.value=null;const v=`Quote request details:

${e.cart.items.map(l=>`${l.product.name}${l.variationName?` (${l.variationName})`:""} (ID: ${l.product.id}${l.variationId?` / Var: ${l.variationId}`:""}) - Quantity: ${l.quantity}`).join(`
`)}`;try{const l=await fetch(`https://formsubmit.co/ajax/${e.checkoutEmailID}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({_template:"box",subject:"New Quote Request from Website Cart",message:v})});if(!l.ok){let k;try{k=await l.json()}catch{}throw new Error(k?.message||`HTTP error! status: ${l.status}`)}const g=await l.json();console.log("FormSubmit Success:",g),d.value="success",setTimeout(()=>{Q(),h("close")},3e3)}catch(l){console.error("FormSubmit Error:",l),o.value=l instanceof Error?l.message:"An unknown error occurred.",d.value="error",setTimeout(()=>{d.value==="error"&&(d.value="idle")},5e3)}}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),L={class:"p-4 border-b"},B={class:"flex items-center justify-between"},H={class:"p-4 flex-1 overflow-y-auto"},P={key:0,class:"text-center py-8"},F={key:1},V={class:"divide-y divide-neutral-200"},A=["src","alt"],G={class:"ml-4 flex-1"},W={class:"flex items-start justify-between"},Y={class:"text-sm font-medium"},J={key:0,class:"text-xs text-gray-500 mt-1"},K={class:"mt-1 flex items-center justify-between"},X={class:"flex items-center space-x-2"},Z=["onClick","disabled"],tt={class:"text-sm"},et=["onClick","disabled"],st=["onClick","disabled"],ot={key:0,class:"p-4 border-t"},rt=["disabled"],at={key:0},nt={key:1},lt={key:2},it={key:0,class:"mt-2 text-sm text-red-600 text-center"},dt={key:1,class:"mt-2 text-sm text-green-600 text-center"};function ct(f,s,u,e,h,d){return r(),a("div",{class:"fixed inset-0 z-30",onClick:s[2]||(s[2]=o=>e.emit("close"))},[s[6]||(s[6]=t("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),t("div",{class:"absolute right-0 top-0 h-full w-96 bg-white shadow-xl transform transition-transform flex flex-col",onClick:s[1]||(s[1]=E(()=>{},["stop"]))},[t("div",L,[t("div",B,[s[4]||(s[4]=t("h2",{class:"text-lg font-medium"},"Shopping Cart",-1)),t("button",{onClick:s[0]||(s[0]=o=>e.emit("close")),class:"text-neutral-400 hover:text-neutral-500 transition-colors"},s[3]||(s[3]=[t("span",{class:"sr-only"},"Close",-1),t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),t("div",H,[u.cart.items.length===0?(r(),a("div",P,s[5]||(s[5]=[t("p",{class:"text-neutral-500"},"Your cart is empty",-1)]))):(r(),a("div",F,[t("ul",V,[(r(!0),a(p,null,b(u.cart.items,o=>(r(),a("li",{key:o.id,class:"py-4 flex"},[t("img",{src:o.product.thumbnail,alt:o.product.name,class:"h-20 w-20 object-cover rounded"},null,8,A),t("div",G,[t("div",W,[t("div",null,[t("h3",Y,i(o.product.name),1),o.variationName?(r(),a("p",J,i(o.variationName),1)):c("",!0)])]),t("div",K,[t("div",X,[t("button",{class:"text-sm text-primary-dark hover:text-primary transition-colors px-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:n=>e.handleUpdateQuantity(o.id,o.quantity-1),disabled:o.quantity<=1||e.quoteStatus==="loading"}," - ",8,Z),t("span",tt,i(o.quantity),1),t("button",{class:"text-sm text-primary-dark hover:text-primary transition-colors px-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:n=>e.handleUpdateQuantity(o.id,o.quantity+1),disabled:e.quoteStatus==="loading"}," + ",8,et)]),t("button",{onClick:n=>e.handleRemove(o.id),class:"text-sm text-red-500 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:e.quoteStatus==="loading"}," Remove ",8,st)])])]))),128))])]))]),u.cart.items.length>0?(r(),a("div",ot,[t("button",{onClick:e.handleRequestQuote,disabled:e.quoteStatus==="loading"||e.quoteStatus==="success",class:"mt-4 block w-full bg-primary hover:bg-primary-dark text-white text-center py-2 px-4 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[e.quoteStatus==="idle"||e.quoteStatus==="error"?(r(),a("span",at,"Request Quote")):c("",!0),e.quoteStatus==="loading"?(r(),a("span",nt,"Sending Request...")):c("",!0),e.quoteStatus==="success"?(r(),a("span",lt,"Quote Requested!")):c("",!0)],8,rt),e.quoteStatus==="error"&&e.quoteError?(r(),a("p",it," Error: "+i(e.quoteError),1)):c("",!0),e.quoteStatus==="success"?(r(),a("p",dt," Your quote request has been sent successfully. We will contact you shortly. ")):c("",!0)])):c("",!0)])])}const ut=q(U,[["render",ct]]),mt=S({__name:"Header",props:{checkoutEmailID:{}},setup(f,{expose:s}){const u=x(!1),e=x(!1),h=x({items:[],total:0}),d=[{icon:"shelves",title:"Medical Shelving",subtext:"Durable storage solutions",href:"/products?category=medical-shelving"},{icon:"local_shipping",title:"Medical Trolleys",subtext:"Mobile supply & instrument carts",href:"/products?category=medical-trolleys"},{icon:"curtains",title:"Curtains & Tracks",subtext:"Privacy and track systems",href:"/products?category=curtains-and-tracks"},{icon:"design_services",title:"Custom Solutions",subtext:"Tailored to your needs",href:"/products?category=custom-solutions"}],o=x([{title:"Home",href:"/",hasDropdown:!1},{title:"Products",href:"/products",hasDropdown:!0,dropdownLinks:d},{title:"About Us",href:"/about",hasDropdown:!1},{title:"Contact",href:"/contact",hasDropdown:!1}]),n=()=>{h.value=T()},_=(l,g)=>{M(l,g),n()},w=()=>{e.value=!e.value};R(e,l=>{l?document.body.style.overflow="hidden":document.body.style.overflow=""});const y=()=>{u.value=!0};s({openCart:y});const m=()=>{y()};I(()=>{n(),window.addEventListener("storage",n),window.addEventListener("open-cart",m)}),N(()=>{window.removeEventListener("storage",n),window.removeEventListener("open-cart",m),document.body.style.overflow=""});const v={isCartOpen:u,isMobileMenuOpen:e,cart:h,productDropdownLinks:d,navLinks:o,loadCart:n,handleUpdateQuantity:_,toggleMobileMenu:w,openCart:y,handleOpenCartEvent:m,MiniCart:ut};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),ht={class:"relative z-30 h-[12dvh] min-h-16 bg-white shadow-sm"},pt={class:"relative z-10 flex justify-between items-center px-8 h-full"},ft={class:"flex items-center"},yt={href:"/",class:"text-4xl font-bold"},vt={class:"hidden md:flex space-x-1"},xt=["href"],bt={class:"relative z-10"},gt={key:1,class:"relative group"},_t=["href"],wt={class:"relative z-10"},kt={class:"absolute left-0 top-full w-72 bg-white rounded-lg shadow-xl overflow-hidden opacity-0 invisible group-hover:opacity-100 group-hover:visible transform scale-95 group-hover:scale-100 translate-y-[-5px] group-hover:translate-y-0 transition-all duration-200 ease-out z-50 origin-top-left"},Ct={class:"p-2"},Mt=["href"],qt={class:"material-symbols-outlined text-primary-600 mr-3 text-xl"},St={class:"font-semibold text-sm text-gray-800"},Et={class:"text-xs text-gray-500"},jt={class:"flex items-center space-x-4"},Dt={key:0,class:"absolute -top-2 -right-2 bg-accent text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},Qt={key:0,class:"fixed inset-0 z-40 bg-white md:hidden flex flex-col"},Tt={class:"flex justify-between items-center px-8 h-[10dvh] min-h-16 border-b border-gray-200"},$t={href:"/",class:"text-4xl font-bold"},Ot={class:"flex-grow p-8 space-y-6 overflow-y-auto"},zt=["href"],Rt={key:0,class:"pl-4 mt-2 space-y-3 border-l border-gray-200"},It=["href"],Nt={class:"material-symbols-outlined text-primary-500 mr-2 text-base"};function Ut(f,s,u,e,h,d){return r(),a("header",ht,[t("nav",pt,[t("div",ft,[t("a",yt,[C(f.$slots,"logo")])]),t("div",vt,[(r(!0),a(p,null,b(e.navLinks,o=>(r(),a(p,{key:o.title},[o.hasDropdown?(r(),a("div",gt,[t("a",{href:o.href,class:"relative overflow-hidden px-4 py-2 font-medium flex items-center group"},[t("span",wt,i(o.title),1),s[3]||(s[3]=t("span",{class:"material-symbols-outlined text-sm ml-1 transition-transform duration-200 group-hover:rotate-180"},"expand_more",-1)),s[4]||(s[4]=t("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 group-hover:w-full transition-all duration-300"},null,-1))],8,_t),t("div",kt,[t("div",Ct,[(r(!0),a(p,null,b(o.dropdownLinks,n=>(r(),a("a",{key:n.title,href:n.href,class:"flex items-center p-3 rounded-md hover:bg-primary-50 transition-all duration-150 group/item"},[t("span",qt,i(n.icon),1),t("div",null,[t("p",St,i(n.title),1),t("p",Et,i(n.subtext),1)]),s[5]||(s[5]=t("span",{class:"material-symbols-outlined text-gray-400 ml-auto text-lg opacity-0 group-hover/item:opacity-100 transform -translate-x-2 group-hover/item:translate-x-0 transition-all duration-200"},"arrow_forward",-1))],8,Mt))),128))])])])):(r(),a("a",{key:0,href:o.href,class:"relative overflow-hidden px-4 py-2 font-medium group"},[t("span",bt,i(o.title),1),s[2]||(s[2]=t("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 group-hover:w-full transition-all duration-300"},null,-1))],8,xt))],64))),128))]),t("div",jt,[t("button",{onClick:s[0]||(s[0]=o=>e.isCartOpen=!e.isCartOpen),class:"relative text-primary-600 hover:text-primary-700"},[s[6]||(s[6]=t("span",{class:"sr-only"},"Cart",-1)),s[7]||(s[7]=t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e.cart.items.length?(r(),a("span",Dt,i(e.cart.items.length),1)):c("",!0)]),t("button",{onClick:e.toggleMobileMenu,class:"md:hidden relative z-50 text-primary-600 hover:text-primary-700"},s[8]||(s[8]=[t("span",{class:"sr-only"},"Toggle menu",-1),t("span",{class:"material-symbols-outlined transition-transform duration-300"}," menu ",-1)])),s[9]||(s[9]=t("a",{href:"/contact",class:"hidden md:block bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300"}," Get in Touch ",-1))])]),e.isCartOpen?(r(),$(e.MiniCart,{key:0,cart:e.cart,checkoutEmailID:u.checkoutEmailID,onClose:s[1]||(s[1]=o=>e.isCartOpen=!1),onUpdateQuantity:e.handleUpdateQuantity},null,8,["cart","checkoutEmailID"])):c("",!0),O(j,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:z(()=>[e.isMobileMenuOpen?(r(),a("div",Qt,[t("div",Tt,[t("a",$t,[C(f.$slots,"logo")]),t("button",{onClick:e.toggleMobileMenu,class:"md:hidden relative z-50 text-primary-600 hover:text-primary-700"},s[10]||(s[10]=[t("span",{class:"sr-only"},"Toggle menu",-1),t("span",{class:"material-symbols-outlined transition-transform duration-300"}," close ",-1)]))]),t("nav",Ot,[(r(!0),a(p,null,b(e.navLinks,o=>(r(),a(p,{key:o.title+"-mobile"},[t("a",{href:o.href,onClick:e.toggleMobileMenu,class:"block text-lg font-medium text-gray-700 hover:text-primary-600 transition-colors"},i(o.title),9,zt),o.hasDropdown?(r(),a("div",Rt,[(r(!0),a(p,null,b(o.dropdownLinks,n=>(r(),a("a",{key:n.title+"-mobile",href:n.href,onClick:e.toggleMobileMenu,class:"flex items-center text-sm text-gray-600 hover:text-primary-600 transition-colors group"},[t("span",Nt,i(n.icon),1),t("span",null,i(n.title),1),s[11]||(s[11]=t("span",{class:"material-symbols-outlined text-gray-400 ml-auto text-sm opacity-0 group-hover:opacity-100 transform -translate-x-1 group-hover:translate-x-0 transition-all duration-200"},"arrow_forward",-1))],8,It))),128))])):c("",!0)],64))),128))]),t("div",{class:"p-8 border-t border-gray-200"},[t("a",{href:"/contact",onClick:e.toggleMobileMenu,class:"block w-full text-center bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300"}," Get in Touch ")])])):c("",!0)]),_:3})])}const Vt=q(mt,[["render",Ut]]);export{Vt as default};
