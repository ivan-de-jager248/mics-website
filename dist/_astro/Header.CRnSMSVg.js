import{w as M,T as S}from"./runtime-dom.esm-bundler.D8emP_o0.js";import{r as E,c as j,g as D,u as T}from"./cart.BuG4bmF2.js";import{_ as C}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{e as q,c as a,o as r,a as t,f as u,F as h,r as b,t as i,l as y,k as O,h as Q,g as k,i as z,s as R,p as $,q as I}from"./runtime-core.esm-bundler.B2CY9vBS.js";const L=q({__name:"MiniCart",props:{cart:{},checkoutEmailID:{}},emits:["close","update-quantity"],setup(p,{expose:s,emit:c}){s();const e=p,m=c,d=y("idle"),o=y(null),g={props:e,emit:m,quoteStatus:d,quoteError:o,handleRemove:f=>{E(f),window.dispatchEvent(new Event("storage"))},handleRequestQuote:async()=>{d.value="loading",o.value=null;const v=`Quote request details:

${e.cart.items.map(l=>`${l.product.name} (ID: ${l.product.id}) - Quantity: ${l.quantity}`).join(`
`)}`;try{const l=await fetch(`https://formsubmit.co/ajax/${e.checkoutEmailID}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({_template:"box",subject:"New Quote Request from Website Cart",message:v})});if(!l.ok){let _;try{_=await l.json()}catch{}throw new Error(_?.message||`HTTP error! status: ${l.status}`)}const x=await l.json();console.log("FormSubmit Success:",x),d.value="success",window.dispatchEvent(new Event("storage")),setTimeout(()=>{j(),m("close")},3e3)}catch(l){console.error("FormSubmit Error:",l),o.value=l instanceof Error?l.message:"An unknown error occurred.",d.value="error",setTimeout(()=>{d.value==="error"&&(d.value="idle")},5e3)}}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),B={class:"p-4 border-b"},H={class:"flex items-center justify-between"},P={class:"p-4 flex-1 overflow-y-auto"},F={key:0,class:"text-center py-8"},N={key:1},U={class:"divide-y divide-neutral-200"},A=["src","alt"],V={class:"ml-4 flex-1"},G={class:"flex items-start justify-between"},W={class:"text-sm font-medium"},Y={class:"mt-1 flex items-center justify-between"},J={class:"flex items-center space-x-2"},K=["onClick","disabled"],X={class:"text-sm"},Z=["onClick","disabled"],tt=["onClick","disabled"],et={key:0,class:"p-4 border-t"},st=["disabled"],ot={key:0},rt={key:1},at={key:2},nt={key:0,class:"mt-2 text-sm text-red-600 text-center"},lt={key:1,class:"mt-2 text-sm text-green-600 text-center"};function it(p,s,c,e,m,d){return r(),a("div",{class:"fixed inset-0 z-30",onClick:s[2]||(s[2]=o=>e.emit("close"))},[s[6]||(s[6]=t("div",{class:"absolute inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)),t("div",{class:"absolute right-0 top-0 h-full w-96 bg-white shadow-xl transform transition-transform flex flex-col",onClick:s[1]||(s[1]=M(()=>{},["stop"]))},[t("div",B,[t("div",H,[s[4]||(s[4]=t("h2",{class:"text-lg font-medium"},"Shopping Cart",-1)),t("button",{onClick:s[0]||(s[0]=o=>e.emit("close")),class:"text-neutral-400 hover:text-neutral-500 transition-colors"},s[3]||(s[3]=[t("span",{class:"sr-only"},"Close",-1),t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),t("div",P,[c.cart.items.length===0?(r(),a("div",F,s[5]||(s[5]=[t("p",{class:"text-neutral-500"},"Your cart is empty",-1)]))):(r(),a("div",N,[t("ul",U,[(r(!0),a(h,null,b(c.cart.items,o=>(r(),a("li",{key:o.product.id,class:"py-4 flex"},[t("img",{src:o.product.thumbnail,alt:o.product.name,class:"h-20 w-20 object-cover rounded"},null,8,A),t("div",V,[t("div",G,[t("h3",W,i(o.product.name),1)]),t("div",Y,[t("div",J,[t("button",{class:"text-sm text-primary-dark hover:text-primary transition-colors px-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:n=>e.emit("update-quantity",o.product.id,o.quantity-1),disabled:o.quantity<=1||e.quoteStatus==="loading"}," - ",8,K),t("span",X,i(o.quantity),1),t("button",{class:"text-sm text-primary-dark hover:text-primary transition-colors px-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:n=>e.emit("update-quantity",o.product.id,o.quantity+1),disabled:e.quoteStatus==="loading"}," + ",8,Z)]),t("button",{onClick:n=>e.handleRemove(o.product.id),class:"text-sm text-red-500 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:e.quoteStatus==="loading"}," Remove ",8,tt)])])]))),128))])]))]),c.cart.items.length>0?(r(),a("div",et,[t("button",{onClick:e.handleRequestQuote,disabled:e.quoteStatus==="loading"||e.quoteStatus==="success",class:"mt-4 block w-full bg-primary hover:bg-primary-dark text-white text-center py-2 px-4 rounded-md transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[e.quoteStatus==="idle"||e.quoteStatus==="error"?(r(),a("span",ot,"Request Quote")):u("",!0),e.quoteStatus==="loading"?(r(),a("span",rt,"Sending Request...")):u("",!0),e.quoteStatus==="success"?(r(),a("span",at,"Quote Requested!")):u("",!0)],8,st),e.quoteStatus==="error"&&e.quoteError?(r(),a("p",nt," Error: "+i(e.quoteError),1)):u("",!0),e.quoteStatus==="success"?(r(),a("p",lt," Your quote request has been sent successfully. We will contact you shortly. ")):u("",!0)])):u("",!0)])])}const dt=C(L,[["render",it]]),ct=q({__name:"Header",props:{checkoutEmailID:{}},setup(p,{expose:s}){const c=y(!1),e=y(!1),m=y({items:[],total:0}),d=[{icon:"shelves",title:"Medical Shelving",subtext:"Durable storage solutions",href:"/products?category=medical-shelving"},{icon:"local_shipping",title:"Medical Trolleys",subtext:"Mobile supply & instrument carts",href:"/products?category=medical-trolleys"},{icon:"curtains",title:"Curtains & Tracks",subtext:"Privacy and track systems",href:"/products?category=curtains-and-tracks"},{icon:"design_services",title:"Custom Solutions",subtext:"Tailored to your needs",href:"/products?category=custom-solutions"}],o=y([{title:"Home",href:"/",hasDropdown:!1},{title:"Products",href:"/products",hasDropdown:!0,dropdownLinks:d},{title:"About Us",href:"/about",hasDropdown:!1},{title:"Contact",href:"/contact",hasDropdown:!1}]),n=()=>{m.value=D()},w=(x,_)=>{T(x,_),n()},g=()=>{e.value=!e.value};R(e,x=>{x?document.body.style.overflow="hidden":document.body.style.overflow=""});const f=()=>{c.value=!0};s({openCart:f});const v=()=>{f()};$(()=>{n(),window.addEventListener("storage",n),window.addEventListener("open-cart",v)}),I(()=>{window.removeEventListener("storage",n),window.removeEventListener("open-cart",v),document.body.style.overflow=""});const l={isCartOpen:c,isMobileMenuOpen:e,cart:m,productDropdownLinks:d,navLinks:o,loadCart:n,handleUpdateQuantity:w,toggleMobileMenu:g,openCart:f,handleOpenCartEvent:v,MiniCart:dt};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),ut={class:"relative z-30 h-[12dvh] min-h-16 bg-white shadow-sm"},mt={class:"relative z-10 flex justify-between items-center px-8 h-full"},ht={class:"flex items-center"},pt={href:"/",class:"text-4xl font-bold"},ft={class:"hidden md:flex space-x-1"},yt=["href"],vt={class:"relative z-10"},xt={key:1,class:"relative group"},bt=["href"],gt={class:"relative z-10"},_t={class:"absolute left-0 top-full w-72 bg-white rounded-lg shadow-xl overflow-hidden opacity-0 invisible group-hover:opacity-100 group-hover:visible transform scale-95 group-hover:scale-100 translate-y-[-5px] group-hover:translate-y-0 transition-all duration-200 ease-out z-50 origin-top-left"},wt={class:"p-2"},kt=["href"],Ct={class:"material-symbols-outlined text-primary-600 mr-3 text-xl"},qt={class:"font-semibold text-sm text-gray-800"},Mt={class:"text-xs text-gray-500"},St={class:"flex items-center space-x-4"},Et={key:0,class:"absolute -top-2 -right-2 bg-accent text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},jt={key:0,class:"fixed inset-0 z-40 bg-white md:hidden flex flex-col"},Dt={class:"flex justify-between items-center px-8 h-[10dvh] min-h-16 border-b border-gray-200"},Tt={href:"/",class:"text-4xl font-bold"},Ot={class:"flex-grow p-8 space-y-6 overflow-y-auto"},Qt=["href"],zt={key:0,class:"pl-4 mt-2 space-y-3 border-l border-gray-200"},Rt=["href"],$t={class:"material-symbols-outlined text-primary-500 mr-2 text-base"};function It(p,s,c,e,m,d){return r(),a("header",ut,[t("nav",mt,[t("div",ht,[t("a",pt,[k(p.$slots,"logo")])]),t("div",ft,[(r(!0),a(h,null,b(e.navLinks,o=>(r(),a(h,{key:o.title},[o.hasDropdown?(r(),a("div",xt,[t("a",{href:o.href,class:"relative overflow-hidden px-4 py-2 font-medium flex items-center group"},[t("span",gt,i(o.title),1),s[3]||(s[3]=t("span",{class:"material-symbols-outlined text-sm ml-1 transition-transform duration-200 group-hover:rotate-180"},"expand_more",-1)),s[4]||(s[4]=t("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 group-hover:w-full transition-all duration-300"},null,-1))],8,bt),t("div",_t,[t("div",wt,[(r(!0),a(h,null,b(o.dropdownLinks,n=>(r(),a("a",{key:n.title,href:n.href,class:"flex items-center p-3 rounded-md hover:bg-primary-50 transition-all duration-150 group/item"},[t("span",Ct,i(n.icon),1),t("div",null,[t("p",qt,i(n.title),1),t("p",Mt,i(n.subtext),1)]),s[5]||(s[5]=t("span",{class:"material-symbols-outlined text-gray-400 ml-auto text-lg opacity-0 group-hover/item:opacity-100 transform -translate-x-2 group-hover/item:translate-x-0 transition-all duration-200"},"arrow_forward",-1))],8,kt))),128))])])])):(r(),a("a",{key:0,href:o.href,class:"relative overflow-hidden px-4 py-2 font-medium group"},[t("span",vt,i(o.title),1),s[2]||(s[2]=t("span",{class:"absolute bottom-0 left-0 w-0 h-0.5 bg-primary-500 group-hover:w-full transition-all duration-300"},null,-1))],8,yt))],64))),128))]),t("div",St,[t("button",{onClick:s[0]||(s[0]=o=>e.isCartOpen=!e.isCartOpen),class:"relative text-primary-600 hover:text-primary-700"},[s[6]||(s[6]=t("span",{class:"sr-only"},"Cart",-1)),s[7]||(s[7]=t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e.cart.items.length?(r(),a("span",Et,i(e.cart.items.length),1)):u("",!0)]),t("button",{onClick:e.toggleMobileMenu,class:"md:hidden relative z-50 text-primary-600 hover:text-primary-700"},s[8]||(s[8]=[t("span",{class:"sr-only"},"Toggle menu",-1),t("span",{class:"material-symbols-outlined transition-transform duration-300"}," menu ",-1)])),s[9]||(s[9]=t("a",{href:"/contact",class:"hidden md:block bg-primary-600 hover:bg-primary-700 text-white px-6 py-2 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300"}," Get in Touch ",-1))])]),e.isCartOpen?(r(),O(e.MiniCart,{key:0,cart:e.cart,checkoutEmailID:c.checkoutEmailID,onClose:s[1]||(s[1]=o=>e.isCartOpen=!1),onUpdateQuantity:e.handleUpdateQuantity},null,8,["cart","checkoutEmailID"])):u("",!0),Q(S,{"enter-active-class":"transition ease-out duration-300 transform","enter-from-class":"translate-x-full","enter-to-class":"translate-x-0","leave-active-class":"transition ease-in duration-200 transform","leave-from-class":"translate-x-0","leave-to-class":"translate-x-full"},{default:z(()=>[e.isMobileMenuOpen?(r(),a("div",jt,[t("div",Dt,[t("a",Tt,[k(p.$slots,"logo")]),t("button",{onClick:e.toggleMobileMenu,class:"md:hidden relative z-50 text-primary-600 hover:text-primary-700"},s[10]||(s[10]=[t("span",{class:"sr-only"},"Toggle menu",-1),t("span",{class:"material-symbols-outlined transition-transform duration-300"}," close ",-1)]))]),t("nav",Ot,[(r(!0),a(h,null,b(e.navLinks,o=>(r(),a(h,{key:o.title+"-mobile"},[t("a",{href:o.href,onClick:e.toggleMobileMenu,class:"block text-lg font-medium text-gray-700 hover:text-primary-600 transition-colors"},i(o.title),9,Qt),o.hasDropdown?(r(),a("div",zt,[(r(!0),a(h,null,b(o.dropdownLinks,n=>(r(),a("a",{key:n.title+"-mobile",href:n.href,onClick:e.toggleMobileMenu,class:"flex items-center text-sm text-gray-600 hover:text-primary-600 transition-colors group"},[t("span",$t,i(n.icon),1),t("span",null,i(n.title),1),s[11]||(s[11]=t("span",{class:"material-symbols-outlined text-gray-400 ml-auto text-sm opacity-0 group-hover:opacity-100 transform -translate-x-1 group-hover:translate-x-0 transition-all duration-200"},"arrow_forward",-1))],8,Rt))),128))])):u("",!0)],64))),128))]),t("div",{class:"p-8 border-t border-gray-200"},[t("a",{href:"/contact",onClick:e.toggleMobileMenu,class:"block w-full text-center bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300"}," Get in Touch ")])])):u("",!0)]),_:3})])}const Nt=C(ct,[["render",It]]);export{Nt as default};
