import{g as l,a as m}from"./cart.BuG4bmF2.js";import{_ as g}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{g as C,c as d,e as h,h as w,i as _,o as u}from"./runtime-core.esm-bundler.CQcEyRvn.js";const b=C({__name:"AddToCartButton",props:{product:{}},setup(a,{expose:s}){s();const o=a,e=h(!1),n=()=>{const t=l();e.value=t.items.some(f=>f.product.id===o.product.id)},i=()=>{m(o.product,1),e.value=!0,window.dispatchEvent(new Event("storage"))},p=()=>{window.dispatchEvent(new Event("open-cart"))},r=t=>{(t instanceof StorageEvent&&t.key==="cart"||!(t instanceof StorageEvent))&&n()};w(()=>{n(),window.addEventListener("storage",r)}),_(()=>{window.removeEventListener("storage",r)});const c={props:o,isInCart:e,checkCartStatus:n,handleAddToCart:i,handleViewCartClick:p,handleStorageChange:r};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function y(a,s,o,e,n,i){return e.isInCart?(u(),d("button",{key:0,onClick:e.handleViewCartClick,type:"button",class:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors"}," View Cart ")):(u(),d("button",{key:1,onClick:e.handleAddToCart,type:"button",class:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-secondary-600 hover:bg-secondary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary-500 transition-colors"}," Add to Cart "))}const E=g(b,[["render",y]]);export{E as default};
